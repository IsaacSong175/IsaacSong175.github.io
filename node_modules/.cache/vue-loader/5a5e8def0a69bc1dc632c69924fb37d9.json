{"remainingRequest":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\src\\pages\\detail\\Zoom\\Zoom.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\src\\pages\\detail\\Zoom\\Zoom.vue","mtime":1652872868438},{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJab29tIiwNCiAgZGF0YSgpew0KICAgIHJldHVybiB7DQogICAgICBpbmRleDowDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoWyJza3VJbmZvIl0pLA0KICAgIC8v5q+U5aaCOuacjeWKoeWZqOeahOaVsOaNruayoeacieWbnuadpSxza3VJbmZv56m65a+56LGhLOWmguaenOepuuWvueixoS5za3VJbWFnZUxpc3QtPnVuZGVmaW5lZA0KICAgIHNrdUltYWdlTGlzdCgpIHsNCiAgICAgIHJldHVybiB0aGlzLnNrdUluZm8uc2t1SW1hZ2VMaXN0IHx8IFtdOw0KICAgIH0sDQogICAgYmlnT2JqKCkgew0KICAgICAgcmV0dXJuIHRoaXMuc2t1SW1hZ2VMaXN0W3RoaXMuaW5kZXhdIHx8IHt9Ow0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVyKGUpIHsNCiAgICAgIC8v6I635Y+W6JKZ5p2/DQogICAgICBsZXQgbWFzayA9IHRoaXMuJHJlZnMubWFzazsNCiAgICAgIGxldCBiaWcgPSB0aGlzLiRyZWZzLmJpZzsNCiAgICAgIC8v6K6h566X6JKZ5p2/55qEbGVmdHx0b3DmlbDlgLwNCiAgICAgIGxldCBsID0gZS5vZmZzZXRYIC0gbWFzay5vZmZzZXRXaWR0aCAvIDI7DQogICAgICBsZXQgdCA9IGUub2Zmc2V0WSAtIG1hc2sub2Zmc2V0SGVpZ2h0IC8gMjsNCiAgICAgIC8v57qm5p2f6JKZ5p2/55qE5LiK5LiL5bem5Y+z6IyD5Zu0DQogICAgICBpZiAobCA8IDApIGwgPSAwOw0KICAgICAgaWYgKGwgPiBtYXNrLm9mZnNldFdpZHRoKSBsID0gbWFzay5vZmZzZXRXaWR0aDsNCiAgICAgIGlmICh0IDwgMCkgdCA9IDA7DQogICAgICBpZiAodCA+IG1hc2sub2Zmc2V0SGVpZ2h0KSB0ID0gbWFzay5vZmZzZXRIZWlnaHQ7DQogICAgICBtYXNrLnN0eWxlLmxlZnQgPSBsICsgInB4IjsNCiAgICAgIG1hc2suc3R5bGUudG9wID0gdCArICJweCI7DQogICAgICBiaWcuc3R5bGUubGVmdCA9IC0yICogbCArICJweCI7DQogICAgICBiaWcuc3R5bGUudG9wID0gLTIgKiB0ICsgInB4IjsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCl7DQogICAgLy/mjqXlj5flhYTlvJ/nu4Tku7bkvKDpgJLov4fmnaXnmoTntKLlvJXlgLwNCiAgICB0aGlzLiRidXMuJG9uKCdzZW5kSW5kZXgnLChpbmRleCk9PnsNCiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4Ow0KICAgIH0pDQogIH0NCn07DQo="},{"version":3,"sources":["Zoom.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Zoom.vue","sourceRoot":"src/pages/detail/Zoom","sourcesContent":["<template>\r\n  <div class=\"spec-preview\">\r\n    <img :src=\"bigObj.imgUrl\" />\r\n    <!-- 绑定鼠标移动事件 -->\r\n    <div class=\"event\" @mousemove=\"handler\"></div>\r\n    <div class=\"big\">\r\n      <img :src=\"bigObj.imgUrl\" ref=\"big\" />\r\n    </div>\r\n    <div class=\"mask\" ref=\"mask\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"Zoom\",\r\n  data(){\r\n    return {\r\n      index:0\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"skuInfo\"]),\r\n    //比如:服务器的数据没有回来,skuInfo空对象,如果空对象.skuImageList->undefined\r\n    skuImageList() {\r\n      return this.skuInfo.skuImageList || [];\r\n    },\r\n    bigObj() {\r\n      return this.skuImageList[this.index] || {};\r\n    },\r\n  },\r\n  methods: {\r\n    handler(e) {\r\n      //获取蒙板\r\n      let mask = this.$refs.mask;\r\n      let big = this.$refs.big;\r\n      //计算蒙板的left|top数值\r\n      let l = e.offsetX - mask.offsetWidth / 2;\r\n      let t = e.offsetY - mask.offsetHeight / 2;\r\n      //约束蒙板的上下左右范围\r\n      if (l < 0) l = 0;\r\n      if (l > mask.offsetWidth) l = mask.offsetWidth;\r\n      if (t < 0) t = 0;\r\n      if (t > mask.offsetHeight) t = mask.offsetHeight;\r\n      mask.style.left = l + \"px\";\r\n      mask.style.top = t + \"px\";\r\n      big.style.left = -2 * l + \"px\";\r\n      big.style.top = -2 * t + \"px\";\r\n    },\r\n  },\r\n  mounted(){\r\n    //接受兄弟组件传递过来的索引值\r\n    this.$bus.$on('sendIndex',(index)=>{\r\n        this.index = index;\r\n    })\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.spec-preview {\r\n  position: relative;\r\n  width: 400px;\r\n  height: 400px;\r\n  border: 1px solid #ccc;\r\n\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .event {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 998;\r\n  }\r\n\r\n  .mask {\r\n    width: 50%;\r\n    height: 50%;\r\n    background-color: rgba(0, 255, 0, 0.3);\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    display: none;\r\n  }\r\n\r\n  .big {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: -1px;\r\n    left: 100%;\r\n    border: 1px solid #aaa;\r\n    overflow: hidden;\r\n    z-index: 998;\r\n    display: none;\r\n    background: white;\r\n\r\n    img {\r\n      width: 200%;\r\n      max-width: 200%;\r\n      height: 200%;\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n    }\r\n  }\r\n\r\n  .event:hover ~ .mask,\r\n  .event:hover ~ .big {\r\n    display: block;\r\n  }\r\n}\r\n</style>"]}]}