{"remainingRequest":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\src\\api\\requests.js","dependencies":[{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\src\\api\\requests.js","mtime":1652872868273},{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8v5a+55LqOYXhpb3Pov5vooYzkuozmrKHlsIHoo4UKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsgLy/ojrflj5bku5PlupM65a2Y5YKo5pWw5o2uCgppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7IC8v5byV5YWl6L+b5bqm5p2hCgppbXBvcnQgbnByb2dyZXNzIGZyb20gJ25wcm9ncmVzcyc7IC8v5byV5YWl55u45YWz6L+b5bqm5p2h55qE5qC35byPCgppbXBvcnQgIm5wcm9ncmVzcy9ucHJvZ3Jlc3MuY3NzIjsgLy9heGlvcy5jcmVhdGXmlrnms5XmiafooYws5YW25a6e6L+U5Zue5LiA5LiqYXhpb3PlkoxyZXF1ZXN05LiA5qC355qECgp2YXIgcmVxdWVzdHMgPSBheGlvcy5jcmVhdGUoewogIC8v5Z+656GA6Lev5b6ELOWPkeivt+axglVSTOaQuuW4pmFwaeOAkOWPkeeOsDrnnJ/lrp7mnI3liqHlmajmjqXlj6Ppg73mkLrluKYvYXBp44CRCiAgYmFzZVVSTDogIi9hcGkiLAogIC8v6LaF5pe255qE6K6+572uCiAgdGltZW91dDogNTAwMAp9KTsgLy/or7fmsYLmi6bmiKrlmag65bCG5p2l6aG555uu5Lit44CQTuS4quivt+axguOAke+8jOWPquimgeWPkeivt+axgizkvJrop6blj5Hor7fmsYLmi6bmiKrlmaghISEKCnJlcXVlc3RzLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy/or7fmsYLmi6bmiKrlmag66K+35rGC5aS044CQaGVhZGVy44CRLOivt+axguWktOiDveWQpue7meacjeWKoeWZqOaQuuW4puWPguaVsAogIC8v6K+35rGC5oum5oiq5Zmo77ya5YW25a6e6aG555uu5Lit6L+Y5pyJ5LiA5Liq6YeN6KaB55qE5L2c55SoLOe7meacjeWKoeWZqOaQuuW4puivt+axguS7rOeahOWFrOWFseeahOWPguaVsAogIC8v6L+b5bqm5p2h5byA5aeLCiAgbnByb2dyZXNzLnN0YXJ0KCk7CgogIGlmIChzdG9yZS5zdGF0ZS5zaG9wY2FydC5VU0VSX0lEKSB7CiAgICBjb25maWcuaGVhZGVycy51c2VyVGVtcElkID0gc3RvcmUuc3RhdGUuc2hvcGNhcnQuVVNFUl9JRDsKICB9IC8vdG9rZW5b5YWs5YWx5Y+C5pWwXQoKCiAgaWYgKHN0b3JlLnN0YXRlLnVzZXIudG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzLnRva2VuID0gc3RvcmUuc3RhdGUudXNlci50b2tlbjsKICB9IC8v5q+P5LiA5qyh5Y+R6K+35rGCLOivt+axguWktOaQuuW4pueUqOaIt+S4tOaXtui6q+S7vQogIC8vIGNvbmZpZy5oZWFkZXJzLnVzZXJUZW1wSWQgPSBTRVRfVVNFUklEKCk7CiAgLy/kuI3nrqHpgqPkuKrmqKHlnZflj5Hor7fmsYIs6K+35rGC5oum5oiq5Zmo77yM6YO95Y+v5Lul6Kem5Y+R44CC6K+35rGC5oum5oiq5Zmo5Y+v5Lul6YCa6L+H6K+35rGC5aS05q+P5LiA5qyh5Y2P5aSn5YWs5YWx5Y+C5pWw57uZ5pyN5Yqh5Zmo44CQ55So5oi35pyq55m75b2V55qE5Li05pe26Lqr5Lu944CRCgoKICByZXR1cm4gY29uZmlnOwp9KTsgLy/lk43lupTmi6bmiKrlmajvvJror7fmsYLmlbDmja7ov5Tlm57kvJrmiafooYwKCnJlcXVlc3RzLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIC8vcmVzOuWunui0qOWwseaYr+mhueebruS4reWPkeivt+axguOAgeacjeWKoeWZqOi/lOWbnueahOaVsOaNrgogIC8v6L+b5bqm5p2h57uT5p2fCiAgbnByb2dyZXNzLmRvbmUoKTsKICByZXR1cm4gcmVzLmRhdGE7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICAvL+a4qemmqOaPkOekujrmn5DkuIDlpKnlj5Hor7fmsYIs6K+35rGC5aSx6LSlLOivt+axguWksei0peeahOS/oeaBr+aJk+WNsOWHuuadpQogIGFsZXJ0KGVyci5tZXNzYWdlKTsgLy/nu4jmraJQcm9taXNl6ZO+CgogIHJldHVybiBuZXcgUHJvbWlzZSgpOwp9KTsgLy/mnIDlkI7pnIDopoHmmrTpnLI65pq06Zyy55qE5piv5re75Yqg5paw55qE5Yqf6IO955qEYXhpb3Ms5Y2z5Li6cmVxdWVzdHMKCmV4cG9ydCBkZWZhdWx0IHJlcXVlc3RzOw=="},{"version":3,"sources":["C:/Users/haoyu Song/Downloads/前台项目/sph_qiantai/src/api/requests.js"],"names":["axios","store","nprogress","requests","create","baseURL","timeout","interceptors","request","use","config","start","state","shopcart","USER_ID","headers","userTempId","user","token","response","res","done","data","err","alert","message","Promise"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,SAAlB,C,CACA;;AACA,OAAOC,SAAP,MAAsB,WAAtB,C,CACA;;AACA,OAAO,yBAAP,C,CAEA;;AACA,IAAIC,QAAQ,GAAGH,KAAK,CAACI,MAAN,CAAa;AACxB;AACAC,EAAAA,OAAO,EAAE,MAFe;AAGxB;AACAC,EAAAA,OAAO,EAAE;AAJe,CAAb,CAAf,C,CAOA;;AACAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAAAC,MAAM,EAAI;AACxC;AACA;AACA;AACAR,EAAAA,SAAS,CAACS,KAAV;;AAEA,MAAIV,KAAK,CAACW,KAAN,CAAYC,QAAZ,CAAqBC,OAAzB,EAAkC;AAC9BJ,IAAAA,MAAM,CAACK,OAAP,CAAeC,UAAf,GAA4Bf,KAAK,CAACW,KAAN,CAAYC,QAAZ,CAAqBC,OAAjD;AACH,GARuC,CAUxC;;;AAEA,MAAGb,KAAK,CAACW,KAAN,CAAYK,IAAZ,CAAiBC,KAApB,EAA0B;AACtBR,IAAAA,MAAM,CAACK,OAAP,CAAeG,KAAf,GAAuBjB,KAAK,CAACW,KAAN,CAAYK,IAAZ,CAAiBC,KAAxC;AACH,GAduC,CAgBxC;AACA;AACA;;;AACA,SAAOR,MAAP;AACH,CApBD,E,CAuBA;;AACAP,QAAQ,CAACI,YAAT,CAAsBY,QAAtB,CAA+BV,GAA/B,CAAmC,UAACW,GAAD,EAAS;AACxC;AACA;AACAlB,EAAAA,SAAS,CAACmB,IAAV;AACA,SAAOD,GAAG,CAACE,IAAX;AACH,CALD,EAKG,UAACC,GAAD,EAAS;AACR;AACAC,EAAAA,KAAK,CAACD,GAAG,CAACE,OAAL,CAAL,CAFQ,CAGR;;AACA,SAAO,IAAIC,OAAJ,EAAP;AACH,CAVD,E,CAYA;;AACA,eAAevB,QAAf","sourcesContent":["//对于axios进行二次封装\r\nimport axios from \"axios\";\r\n//获取仓库:存储数据\r\nimport store from \"@/store\";\r\n//引入进度条\r\nimport nprogress from 'nprogress';\r\n//引入相关进度条的样式\r\nimport \"nprogress/nprogress.css\";\r\n\r\n//axios.create方法执行,其实返回一个axios和request一样的\r\nlet requests = axios.create({\r\n    //基础路径,发请求URL携带api【发现:真实服务器接口都携带/api】\r\n    baseURL: \"/api\",\r\n    //超时的设置\r\n    timeout: 5000\r\n});\r\n\r\n//请求拦截器:将来项目中【N个请求】，只要发请求,会触发请求拦截器!!!\r\nrequests.interceptors.request.use(config => {\r\n    //请求拦截器:请求头【header】,请求头能否给服务器携带参数\r\n    //请求拦截器：其实项目中还有一个重要的作用,给服务器携带请求们的公共的参数\r\n    //进度条开始\r\n    nprogress.start();\r\n\r\n    if (store.state.shopcart.USER_ID) {\r\n        config.headers.userTempId = store.state.shopcart.USER_ID;\r\n    }\r\n\r\n    //token[公共参数]\r\n\r\n    if(store.state.user.token){\r\n        config.headers.token = store.state.user.token;\r\n    }\r\n\r\n    //每一次发请求,请求头携带用户临时身份\r\n    // config.headers.userTempId = SET_USERID();\r\n    //不管那个模块发请求,请求拦截器，都可以触发。请求拦截器可以通过请求头每一次协大公共参数给服务器【用户未登录的临时身份】\r\n    return config;\r\n});\r\n\r\n\r\n//响应拦截器：请求数据返回会执行\r\nrequests.interceptors.response.use((res) => {\r\n    //res:实质就是项目中发请求、服务器返回的数据\r\n    //进度条结束\r\n    nprogress.done();\r\n    return res.data;\r\n}, (err) => {\r\n    //温馨提示:某一天发请求,请求失败,请求失败的信息打印出来\r\n    alert(err.message);\r\n    //终止Promise链\r\n    return new Promise();\r\n});\r\n\r\n//最后需要暴露:暴露的是添加新的功能的axios,即为requests\r\nexport default requests;\r\n\r\n\r\n\r\n\r\n"]}]}