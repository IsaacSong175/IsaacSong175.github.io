{"remainingRequest":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\src\\router\\index.js","mtime":1652872868873},{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2hhb3l1IFNvbmcvRG93bmxvYWRzL1x1NTI0RFx1NTNGMFx1OTg3OVx1NzZFRS9zcGhfcWlhbnRhaS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwovL+mFjee9rui3r+eUsQovL+esrOS4gOatpe+8muW8leWFpeaPkuS7tuOAgeWuieijheaPkuS7tgppbXBvcnQgVnVlUm91dGVyIGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7ClZ1ZS51c2UoVnVlUm91dGVyKTsgLy/lvJXlhaXot6/nlLHnm7jlhbPnmoTphY3nva7pobkKCmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXMnOyAvL+W8leWFpeS7k+W6kwoKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOyAvL+aKiuS6uuWutuWOn+Wei+WvueixoeeahHB1c2jmlrnms5Xov5vooYzkv53lrZgKCnZhciBvcmlnaW5QdXNoID0gVnVlUm91dGVyLnByb3RvdHlwZS5wdXNoOwp2YXIgb3JpZ2luUmVwbGFjZSA9IFZ1ZVJvdXRlci5wcm90b3R5cGUucmVwbGFjZTsgLy9WdWVSb3V0ZXIucHJvdG90eXBl5Y6f5Z6L5a+56LGh5re75Yqg5LiA5Liq5pa55rOVCi8vbG9jYXRpb2466Lev55Sx6Lez6L2s55u45YWz55qE5L+h5oGvCgpWdWVSb3V0ZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAobG9jYXRpb24sIHJlc29sdmUsIHJlamVjdCkgewogIC8v5b2T5YmN5Ye95pWwdGhpc++8muWNs+S4ulZ1ZVJvdXRlcuexu+eahOWunuS+iwogIC8v55u45b2T5LqOcHVzaOaWueazlemHjOmdonRoaXPvvIzmmK93aW5kb3dz44CQ5a6M54qK5a2Q5LqG44CRCiAgLy/liKnnlKjkurrlrrZwdXNo5pa55rOV5a6e546w6Lev55Sx6Lez6L2s77yM5L+d6K+BcHVzaOmHjOmdonRoaXMs5bqU6K+ldnVlUm91dGVy57G755qE5a6e5L6LCiAgLy/pnaLor5U65Ye95pWwYXBwbHnkuI5jYWxs5Yy65YirPwogIC8v55u45ZCM55qE5Zyw5pa5OumDveWPr+S7peevoeaUueWHveaVsOmHjOmdonRoaXMKICAvL+S4jeWQjOeahOWcsOaWuTphcHBseeS8oOmAkuWPguaVsCDmlbDnu4QgIGNhbGzkvKDpgJLlj4LmlbAg6YCX5Y+35YiG5YmyCiAgaWYgKHJlc29sdmUgJiYgcmVqZWN0KSB7CiAgICAvL+S7o+ihqOecnzrku6PooajnnYDkuKTkuKrlvaLlj4LmjqXlj5flj4LmlbDjgJDnrq3lpLTlh73mlbDjgJEKICAgIG9yaWdpblB1c2guY2FsbCh0aGlzLCBsb2NhdGlvbiwgcmVzb2x2ZSwgcmVqZWN0KTsKICB9IGVsc2UgewogICAgb3JpZ2luUHVzaC5jYWxsKHRoaXMsIGxvY2F0aW9uLCBmdW5jdGlvbiAoKSB7fSwgZnVuY3Rpb24gKCkge30pOwogIH0KfTsKClZ1ZVJvdXRlci5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uIChsb2NhdGlvbiwgcmVzb2x2ZSwgcmVqZWN0KSB7CiAgaWYgKHJlc29sdmUgJiYgcmVqZWN0KSB7CiAgICAvL+S7o+ihqOecnzrku6PooajnnYDkuKTkuKrlvaLlj4LmjqXlj5flj4LmlbDjgJDnrq3lpLTlh73mlbDjgJEKICAgIG9yaWdpblJlcGxhY2UuY2FsbCh0aGlzLCBsb2NhdGlvbiwgcmVzb2x2ZSwgcmVqZWN0KTsKICB9IGVsc2UgewogICAgb3JpZ2luUmVwbGFjZS5jYWxsKHRoaXMsIGxvY2F0aW9uLCBmdW5jdGlvbiAoKSB7fSwgZnVuY3Rpb24gKCkge30pOwogIH0KfTsgLy/nrKzkuozmraU65pq06ZyyVnVlUm91dGVy57G755qE5a6e5L6LCi8v5a+55aSW5pq06Zyy5LiA5Liq6Lev55Sx5ZmoLOWunui0qOaYr1Z1ZVJvdXRlcuexu+eahOWunuS+iyzkuIDkuKrot6/nlLHlmajlj6/ku6XnrqHnkIblpJrkuKrot6/nlLEKCgp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgLy/phY3nva7ot6/nlLEKICByb3V0ZXM6IHJvdXRlcywKICAvL+iuvue9rua7muWKqOadoeeahOS9jee9rgogIHNjcm9sbEJlaGF2aW9yOiBmdW5jdGlvbiBzY3JvbGxCZWhhdmlvcigpIHsKICAgIC8v5rua5Yqo6KGM5Li66L+Z5Liq5Ye95pWwLOmcgOimgeaciei/lOWbnuWAvCzov5Tlm57lgLzkuLrkuIDkuKrlr7nosaHjgIIKICAgIC8v57uP5bi45Y+v5Lul6K6+572u5rua5Yqo5p2heHx55L2N572uIFt4fHnmlbDlgLznmoTorr7nva7kuIDoiKzmnIDlsI/mmK/pm7ZdCiAgICByZXR1cm4gewogICAgICB5OiAwCiAgICB9OwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsgLy/lhajlsYDlrojljas65Y+q6KaB6aG555uu5Lit5pyJ5Lu75L2V6Lev55Sx5Y+Y5YyW77yM5YWo5bGA5a6I5Y2r6YO95Lya6L+b6KGM5oum5oiq44CQ56ym5ZCI5p2h5Lu26LWw5L2g77yM5LiN56ym5ZCI5p2h5Lu25LiN6IO96K6/6Zeu44CRCi8v5YWo5bGA5a6I5Y2rOuWFqOWxgOWJjee9ruWuiOWNq+OAkOiuv+mXruS5i+WJjei/m+ihjOinpuWPkeOAkQovL+WFqOWxgOWJjee9ruWuiOWNqwoKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciBoYXNUb2tlbiwgaGFzTmlja05hbWUsIHRvUGF0aDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgLy90bzrljrvnmoTpgqPkuKrot6/nlLHnmoTkv6Hmga8KICAgICAgICAgICAgLy9mcm9tOuS7jumCo+S4qui3r+eUseiAjOadpeeahOS/oeaBrwogICAgICAgICAgICAvL25leHQ65pS+6KGM5Ye95pWwISEhISEhIAogICAgICAgICAgICAvL+esrOS4gOenje+8mm5leHQoKSzmlL7ooYzlh73mlbDvvIzmlL7ooYzliLDlroPmg7PljrvnmoTot6/nlLHvvIHvvIHvvIEKICAgICAgICAgICAgLy/nrKzkuoznp406bmV4dChwYXRoKSzlrojljavmjIflrprmlL7ooYzliLDpgqPkuKrot6/nlLHljrs/CiAgICAgICAgICAgIC8v55So5oi35piv5ZCm55m75b2VOuWPluWGs+S6juS7k+W6k+mHjOmdouaYr+WQpuaciXRva2Vu77yB77yB77yBCiAgICAgICAgICAgIC8v5q+P5LiA5qyh6Lev55Sx6Lez6L2s5LmL5YmN6ZyA6KaB55So5pyJ55So5oi35L+h5oGv5Zyo6Lez6L2sLOayoeacieWPkeivt+axguiOt+WPlueUqOaIt+S/oeaBr+WcqOi3s+i9rO+8ge+8ge+8ge+8gQogICAgICAgICAgICAvL3Rva2VuCiAgICAgICAgICAgIGhhc1Rva2VuID0gc3RvcmUuc3RhdGUudXNlci50b2tlbjsgLy/nlKjmiLfkv6Hmga8KCiAgICAgICAgICAgIGhhc05pY2tOYW1lID0gc3RvcmUuc3RhdGUudXNlci5uaWNrTmFtZTsgLy/nlKjmiLfnmbvlvZUKCiAgICAgICAgICAgIGlmICghaGFzVG9rZW4pIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghKHRvLnBhdGggPT0gIi9sb2dpbiIpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG5leHQoJy9ob21lJyk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBpZiAoIWhhc05pY2tOYW1lKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDExOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnZ2V0VXNlckluZm8nKTsKCiAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE3OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDExKTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ2xvZ291dCcpOwoKICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgIC8v5Zue5Yiw55m75b2V6aG177yM6YeN5paw6I635Y+W5LiA5Liq5paw55qE5a2m55Sf6K+BCiAgICAgICAgICAgIG5leHQoJy9sb2dpbicpOwoKICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgLy/nlKjmiLfmnKrnmbvlvZV8fOebruWJjeeahOWIpOaWremDveaYr+aUvuihjC7lsIbmnaXov5nph4zkvJon5Zue5omL5o6PJ+WinuWKoOS4gOS6m+WIpOaWrQogICAgICAgICAgICAvL+eUqOaIt+acqueZu+W9lTrkuI3og73ov5vlhaUvdHJhZGXjgIEvcGF544CBL3BheXN1Y2Nlc3PjgIEvY2VudGVy44CBL2NlbnRlci9teW9yZGVyICAvY2VudGVyL3RlYW1vcmRlcgogICAgICAgICAgICB0b1BhdGggPSB0by5wYXRoOwoKICAgICAgICAgICAgaWYgKHRvUGF0aC5pbmRleE9mKCd0cmFkZScpICE9IC0xIHx8IHRvUGF0aC5pbmRleE9mKCdwYXknKSAhPSAtMSB8fCB0b1BhdGguaW5kZXhPZignY2VudGVyJykgIT0gLTEpIHsKICAgICAgICAgICAgICBuZXh0KCcvbG9naW4/cmVkaXJlY3Q9JyArIHRvUGF0aCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzExLCAxN11dKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7IC8v5YWo5bGA5ZCO572u5a6I5Y2rLOWHoOS5juS4jeeUqAovLyByb3V0ZXIuYWZ0ZXJFYWNoKCh0byxmcm9tKT0+ewovLyAgIGNvbnNvbGUubG9nKCflkI7nva7lrojljasnKTsKLy8gfSk="},{"version":3,"sources":["C:/Users/haoyu Song/Downloads/前台项目/sph_qiantai/src/router/index.js"],"names":["VueRouter","Vue","use","routes","store","originPush","prototype","push","originReplace","replace","location","resolve","reject","call","router","scrollBehavior","y","beforeEach","to","from","next","hasToken","state","user","token","hasNickName","nickName","path","dispatch","toPath","indexOf"],"mappings":"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","sourcesContent":["//配置路由\r\n//第一步：引入插件、安装插件\r\nimport VueRouter from \"vue-router\";\r\nimport Vue from \"vue\";\r\nVue.use(VueRouter);\r\n//引入路由相关的配置项\r\nimport routes from './routes'\r\n\r\n//引入仓库\r\nimport store from '@/store'\r\n//把人家原型对象的push方法进行保存\r\nlet originPush = VueRouter.prototype.push;\r\nlet originReplace = VueRouter.prototype.replace;\r\n//VueRouter.prototype原型对象添加一个方法\r\n//location:路由跳转相关的信息\r\nVueRouter.prototype.push = function (location, resolve, reject) {\r\n    //当前函数this：即为VueRouter类的实例\r\n    //相当于push方法里面this，是windows【完犊子了】\r\n    //利用人家push方法实现路由跳转，保证push里面this,应该vueRouter类的实例\r\n\r\n    //面试:函数apply与call区别?\r\n    //相同的地方:都可以篡改函数里面this\r\n    //不同的地方:apply传递参数 数组  call传递参数 逗号分割\r\n\r\n    if (resolve && reject) {\r\n        //代表真:代表着两个形参接受参数【箭头函数】\r\n        originPush.call(this, location, resolve, reject);\r\n    } else {\r\n        originPush.call(this, location, () => { }, () => { });\r\n    }\r\n}\r\n\r\n\r\nVueRouter.prototype.replace = function (location, resolve, reject) {\r\n    if (resolve && reject) {\r\n        //代表真:代表着两个形参接受参数【箭头函数】\r\n        originReplace.call(this, location, resolve, reject);\r\n    } else {\r\n        originReplace.call(this, location, () => { }, () => { });\r\n    }\r\n}\r\n\r\n//第二步:暴露VueRouter类的实例\r\n//对外暴露一个路由器,实质是VueRouter类的实例,一个路由器可以管理多个路由\r\nconst router = new VueRouter({\r\n    //配置路由\r\n    routes,\r\n    //设置滚动条的位置\r\n    scrollBehavior() {\r\n        //滚动行为这个函数,需要有返回值,返回值为一个对象。\r\n        //经常可以设置滚动条x|y位置 [x|y数值的设置一般最小是零]\r\n        return { y: 0 };\r\n    }\r\n});\r\n\r\nexport default router;\r\n\r\n\r\n//全局守卫:只要项目中有任何路由变化，全局守卫都会进行拦截【符合条件走你，不符合条件不能访问】\r\n\r\n//全局守卫:全局前置守卫【访问之前进行触发】\r\n\r\n//全局前置守卫\r\nrouter.beforeEach(async (to, from, next) => {\r\n    //to:去的那个路由的信息\r\n    //from:从那个路由而来的信息\r\n    //next:放行函数!!!!!! \r\n    //第一种：next(),放行函数，放行到它想去的路由！！！\r\n    //第二种:next(path),守卫指定放行到那个路由去?\r\n\r\n    //用户是否登录:取决于仓库里面是否有token！！！\r\n    //每一次路由跳转之前需要用有用户信息在跳转,没有发请求获取用户信息在跳转！！！！\r\n    //token\r\n    let hasToken = store.state.user.token;\r\n    //用户信息\r\n    let hasNickName = store.state.user.nickName;\r\n    //用户登录\r\n    if (hasToken) {\r\n        //用户登录了,不能去login\r\n        if (to.path == \"/login\") {\r\n            next('/home');\r\n        } else {\r\n            //用户登陆了,而且还有用户信息【去的并非是login】\r\n            if (hasNickName) {\r\n                next();\r\n            } else {\r\n                //用户登陆了,但是没有用户信息 \r\n                try {\r\n                    //发请求获取用户信息以后在放行\r\n                    await store.dispatch('getUserInfo');\r\n                    next();\r\n                } catch (error) {\r\n                    //用户没有信息，还携带token发请求获取用户信息【失败】\r\n                    //token【学生证失效了】\r\n                    //token失效:本地清空数据、服务器的token通知服务器清除\r\n                    await store.dispatch('logout');\r\n                    //回到登录页，重新获取一个新的学生证\r\n                    next('/login');\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        //用户未登录||目前的判断都是放行.将来这里会'回手掏'增加一些判断\r\n        //用户未登录:不能进入/trade、/pay、/paysuccess、/center、/center/myorder  /center/teamorder\r\n        let toPath = to.path;\r\n        if (toPath.indexOf('trade') != -1 || toPath.indexOf('pay') != -1 || toPath.indexOf('center') != -1) {\r\n            next('/login?redirect='+toPath);\r\n        } else {\r\n            next();\r\n        }\r\n    }\r\n});\r\n\r\n\r\n//全局后置守卫,几乎不用\r\n// router.afterEach((to,from)=>{\r\n//   console.log('后置守卫');\r\n// })"]}]}