{"remainingRequest":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\src\\store\\shopcart\\index.js","dependencies":[{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\src\\store\\shopcart\\index.js","mtime":1652872868898},{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\haoyu Song\\Downloads\\前台项目\\sph_qiantai\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2hhb3l1IFNvbmcvRG93bmxvYWRzL1x1NTI0RFx1NTNGMFx1OTg3OVx1NzZFRS9zcGhfcWlhbnRhaS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy/otK3nianovablsI/ku5PlupMKaW1wb3J0IHsgcmVxU2hvcENhcnQsIHJlcURlbGV0ZUNhcnQsIHJlcVVwZGF0ZUNoZWNrZWQgfSBmcm9tICdAL2FwaSc7IC8v6KeE6IyDOuWIqeeUqHZ1ZXjlrZjlgqjmlbDmja4KCmltcG9ydCB7IFNFVF9VU0VSSUQgfSBmcm9tICdAL3V0aWxzL1VTRVJfSUQnOwp2YXIgc3RhdGUgPSB7CiAgLy92dWV45LuT5bqT5a2Y5YKo55So5oi35Li05pe26Lqr5Lu9LHZ1ZXjlrZjlgqjmlbDmja7noa7lrp7pnZ7mjIHkuYXljJbnmoTvvIxTRVRfVVNFUklE5omn6KGM6L+U5Zue57uT5p6cLOWPr+aYr+acrOWcsOWtmOWCqOiOt+WPlueahO+8ge+8gQogIFVTRVJfSUQ6IFNFVF9VU0VSSUQoKSwKICBzaG9wQ2FydEluZm86IFtdCn07CnZhciBtdXRhdGlvbnMgPSB7CiAgR0VUU0hPUENBUlQ6IGZ1bmN0aW9uIEdFVFNIT1BDQVJUKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5zaG9wQ2FydEluZm8gPSBwYXlsb2FkOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLy/ojrflj5bnlKjmiLfotK3nianovabnmoTmlbDmja4KICBnZXRTaG9wQ2FydDogZnVuY3Rpb24gZ2V0U2hvcENhcnQoX3JlZikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIGRpc3BhdGNoLCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdCwgc3RhdGUgPSBfcmVmLnN0YXRlLCBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcVNob3BDYXJ0KCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgY29tbWl0KCdHRVRTSE9QQ0FSVCcsIHJlc3VsdC5kYXRhKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICAvL+WIoOmZpOafkOS4gOS4quWVhuWTgeeahOaVsOaNrgogIGRlbGV0ZUNhcnRCeUlkOiBmdW5jdGlvbiBkZWxldGVDYXJ0QnlJZChfcmVmMiwgc2t1SWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgZGlzcGF0Y2gsIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQsIHN0YXRlID0gX3JlZjIuc3RhdGUsIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZXFEZWxldGVDYXJ0KHNrdUlkKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEocmVzdWx0LmNvZGUgPT0gMjAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgJ29rJyk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KCkpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICAvL+S/ruaUueafkOS4gOS4quWVhuWTgeWLvumAieeKtuaAgQogIGNoYW5nZUNoZWNrZWQ6IGZ1bmN0aW9uIGNoYW5nZUNoZWNrZWQoX3JlZjMsIF9yZWY0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIGRpc3BhdGNoLCBza3VJZCwgaXNDaGVja2VkLCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0LCBzdGF0ZSA9IF9yZWYzLnN0YXRlLCBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoOwogICAgICAgICAgICAgIHNrdUlkID0gX3JlZjQuc2t1SWQsIGlzQ2hlY2tlZCA9IF9yZWY0LmlzQ2hlY2tlZDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcVVwZGF0ZUNoZWNrZWQoc2t1SWQsIGlzQ2hlY2tlZCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHJlc3VsdC5jb2RlID09IDIwMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsICdvaycpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdCgpKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9LAogIC8v5L+u5pS55YWo6YOo5ZWG5ZOB55qE5Yu+6YCJ55qE54q25oCBCiAgYWxsVXBkYXRlQ2hlY2tlZDogZnVuY3Rpb24gYWxsVXBkYXRlQ2hlY2tlZChfcmVmNSwgaXNDaGVja2VkKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjUuc3RhdGUsCiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmNS5kaXNwYXRjaDsKICAgIHZhciBhcnIgPSBbXTsgLy/ojrflj5botK3nianovabllYblk4HnmoTkuKrmlbAs6L+b6KGM6YGN5Y6GCgogICAgc3RhdGUuc2hvcENhcnRJbmZvWzBdLmNhcnRJbmZvTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIC8v6LCD55So5L+u5pS55p+Q5LiA5Liq5ZWG5ZOB55qEYWN0aW9u44CQ5Zub5qyh44CRCiAgICAgIHZhciBwcyA9IGRpc3BhdGNoKCJjaGFuZ2VDaGVja2VkIiwgewogICAgICAgIHNrdUlkOiBpdGVtLnNrdUlkLAogICAgICAgIGlzQ2hlY2tlZDogaXNDaGVja2VkCiAgICAgIH0pOwogICAgICBhcnIucHVzaChwcyk7CiAgICB9KTsgLy9Qcm9taXNlLmFsbCgpOuWPguaVsOmcgOimgeeahOaYr+S4gOS4quaVsOe7hOOAkOaVsOe7hOmHjOmdoumcgOimgXByb21pc2XjgJEKICAgIC8vUHJvbWlzZS5hbGwoKeaJp+ihjOS4gOasoSzov5Tlm57nmoTmmK/kuIDkuKpQcm9taXNl5a+56LGhLFByb21pc2Xlr7nosaHnirbmgIHvvJrmiJDlip/jgIHlpLHotKXlj5blhrPkuo7ku4DkuYg/CiAgICAvL+aIkOWKn+OAgei/mOaYr+Wksei0peWPluWGs+S6juaVsOe7hOmHjOmdoueahHByb21pc2XnirbmgIE65Zub5Liq6YO95oiQ5Yqf44CB6L+U5Zue5oiQ5YqfUHJvbWlzZeOAgeWPquimgeacieS4gOS4quWksei0peOAgei/lOWbnlByb21pc2XlpLHotKXnirbmgIHvvIHvvIHvvIEKCiAgICByZXR1cm4gUHJvbWlzZS5hbGwoYXJyKTsKICB9LAogIC8v5Yig6Zmk6YCJ5Lit55qE5ZWG5ZOBCiAgZGVsZXRlQWxsQ2FydDogZnVuY3Rpb24gZGVsZXRlQWxsQ2FydChfcmVmNikgewogICAgdmFyIGNvbW1pdCA9IF9yZWY2LmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWY2LnN0YXRlLAogICAgICAgIGRpc3BhdGNoID0gX3JlZjYuZGlzcGF0Y2g7CiAgICB2YXIgYXJyID0gW107IC8v6I635Y+W5LuT5bqT6YeM6Z2i6LSt54mp6L2m55qE5pWw5o2uCgogICAgc3RhdGUuc2hvcENhcnRJbmZvWzBdLmNhcnRJbmZvTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIC8v5ZWG5ZOB55qE5Yu+6YCJ54q25oCB5piv5Yu+6YCJ55qELOWPkeivt+axguS4gOS4quS4gOS4quWIoOmZpAogICAgICBpZiAoaXRlbS5pc0NoZWNrZWQgPT0gMSkgewogICAgICAgIHZhciBwcyA9IGRpc3BhdGNoKCdkZWxldGVDYXJ0QnlJZCcsIGl0ZW0uc2t1SWQpOwogICAgICAgIGFyci5wdXNoKHBzKTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5hbGwoYXJyKTsKICB9Cn07CnZhciBnZXR0ZXJzID0gewogIC8v6K6h566X5pWw57uE6YeM6Z2i56ys5LiA5Liq5YWD57Sg77ya5a+56LGhCiAgQ2FydEluZm86IGZ1bmN0aW9uIENhcnRJbmZvKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuc2hvcENhcnRJbmZvWzBdIHx8IHt9OwogIH0KfTsgLy/lr7nlpJbmmrTpnLIKCmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBnZXR0ZXJzOiBnZXR0ZXJzCn07"},{"version":3,"sources":["C:/Users/haoyu Song/Downloads/前台项目/sph_qiantai/src/store/shopcart/index.js"],"names":["reqShopCart","reqDeleteCart","reqUpdateChecked","SET_USERID","state","USER_ID","shopCartInfo","mutations","GETSHOPCART","payload","actions","getShopCart","commit","dispatch","result","code","data","deleteCartById","skuId","Promise","reject","changeChecked","isChecked","allUpdateChecked","arr","cartInfoList","forEach","item","ps","push","all","deleteAllCart","getters","CartInfo"],"mappings":";;;;;;AAAA;AACA,SAASA,WAAT,EAAsBC,aAAtB,EAAqCC,gBAArC,QAA6D,OAA7D,C,CACA;;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,IAAIC,KAAK,GAAG;AACP;AACAC,EAAAA,OAAO,EAAEF,UAAU,EAFZ;AAGPG,EAAAA,YAAY,EAAE;AAHP,CAAZ;AAKA,IAAIC,SAAS,GAAG;AACXC,EAAAA,WADW,uBACCJ,KADD,EACQK,OADR,EACiB;AACvBL,IAAAA,KAAK,CAACE,YAAN,GAAqBG,OAArB;AACJ;AAHU,CAAhB;AAKA,IAAIC,OAAO,GAAG;AACT;AACMC,EAAAA,WAFG,6BAEsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA3BC,cAAAA,MAA2B,QAA3BA,MAA2B,EAAnBR,KAAmB,QAAnBA,KAAmB,EAAZS,QAAY,QAAZA,QAAY;AAAA;AAAA,qBACvBb,WAAW,EADY;;AAAA;AACtCc,cAAAA,MADsC;;AAE1C,kBAAIA,MAAM,CAACC,IAAP,IAAe,GAAnB,EAAwB;AACnBH,gBAAAA,MAAM,CAAC,aAAD,EAAgBE,MAAM,CAACE,IAAvB,CAAN;AACJ;;AAJyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAK9C,GAPQ;AAQT;AACMC,EAAAA,cATG,iCASyCC,KATzC,EASgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlCN,cAAAA,MAAkC,SAAlCA,MAAkC,EAA1BR,KAA0B,SAA1BA,KAA0B,EAAnBS,QAAmB,SAAnBA,QAAmB;AAAA;AAAA,qBACjCZ,aAAa,CAACiB,KAAD,CADoB;;AAAA;AAChDJ,cAAAA,MADgD;;AAAA,oBAEhDA,MAAM,CAACC,IAAP,IAAe,GAFiC;AAAA;AAAA;AAAA;;AAAA,gDAGxC,IAHwC;;AAAA;AAAA,gDAKxCI,OAAO,CAACC,MAAR,EALwC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOxD,GAhBQ;AAiBT;AACMC,EAAAA,aAlBG,uCAkB8D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAjDT,cAAAA,MAAiD,SAAjDA,MAAiD,EAAzCR,KAAyC,SAAzCA,KAAyC,EAAlCS,QAAkC,SAAlCA,QAAkC;AAApBK,cAAAA,KAAoB,SAApBA,KAAoB,EAAbI,SAAa,SAAbA,SAAa;AAAA;AAAA,qBAC/CpB,gBAAgB,CAACgB,KAAD,EAAQI,SAAR,CAD+B;;AAAA;AAC9DR,cAAAA,MAD8D;;AAAA,oBAE9DA,MAAM,CAACC,IAAP,IAAe,GAF+C;AAAA;AAAA;AAAA;;AAAA,gDAGtD,IAHsD;;AAAA;AAAA,gDAKtDI,OAAO,CAACC,MAAR,EALsD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQtE,GA1BQ;AA2BT;AACAG,EAAAA,gBA5BS,mCA4BqCD,SA5BrC,EA4BgD;AAAA,QAAtCV,MAAsC,SAAtCA,MAAsC;AAAA,QAA9BR,KAA8B,SAA9BA,KAA8B;AAAA,QAAvBS,QAAuB,SAAvBA,QAAuB;AACpD,QAAIW,GAAG,GAAG,EAAV,CADoD,CAEpD;;AACApB,IAAAA,KAAK,CAACE,YAAN,CAAmB,CAAnB,EAAsBmB,YAAtB,CAAmCC,OAAnC,CAA2C,UAAAC,IAAI,EAAI;AAC9C;AACA,UAAIC,EAAE,GAAGf,QAAQ,CAAC,eAAD,EAAkB;AAAEK,QAAAA,KAAK,EAAES,IAAI,CAACT,KAAd;AAAqBI,QAAAA,SAAS,EAATA;AAArB,OAAlB,CAAjB;AACAE,MAAAA,GAAG,CAACK,IAAJ,CAASD,EAAT;AACJ,KAJD,EAHoD,CAQpD;AACA;AACA;;AACA,WAAOT,OAAO,CAACW,GAAR,CAAYN,GAAZ,CAAP;AACJ,GAxCQ;AAyCT;AACAO,EAAAA,aA1CS,gCA0CkC;AAAA,QAA3BnB,MAA2B,SAA3BA,MAA2B;AAAA,QAAnBR,KAAmB,SAAnBA,KAAmB;AAAA,QAAZS,QAAY,SAAZA,QAAY;AACtC,QAAIW,GAAG,GAAG,EAAV,CADsC,CAEtC;;AACApB,IAAAA,KAAK,CAACE,YAAN,CAAmB,CAAnB,EAAsBmB,YAAtB,CAAmCC,OAAnC,CAA2C,UAAAC,IAAI,EAAI;AAC9C;AACA,UAAIA,IAAI,CAACL,SAAL,IAAkB,CAAtB,EAAyB;AACpB,YAAIM,EAAE,GAAGf,QAAQ,CAAC,gBAAD,EAAmBc,IAAI,CAACT,KAAxB,CAAjB;AACAM,QAAAA,GAAG,CAACK,IAAJ,CAASD,EAAT;AACJ;AACL,KAND;AAOA,WAAOT,OAAO,CAACW,GAAR,CAAYN,GAAZ,CAAP;AACJ;AArDQ,CAAd;AAwDA,IAAIQ,OAAO,GAAG;AAET;AACAC,EAAAA,QAHS,oBAGA7B,KAHA,EAGO;AACX,WAAOA,KAAK,CAACE,YAAN,CAAmB,CAAnB,KAAyB,EAAhC;AACJ;AALQ,CAAd,C,CAQA;;AACA,eAAe;AACVF,EAAAA,KAAK,EAALA,KADU;AAEVG,EAAAA,SAAS,EAATA,SAFU;AAGVG,EAAAA,OAAO,EAAPA,OAHU;AAIVsB,EAAAA,OAAO,EAAPA;AAJU,CAAf","sourcesContent":["//购物车小仓库\r\nimport { reqShopCart, reqDeleteCart, reqUpdateChecked } from '@/api'\r\n//规范:利用vuex存储数据\r\nimport { SET_USERID } from '@/utils/USER_ID';\r\nlet state = {\r\n     //vuex仓库存储用户临时身份,vuex存储数据确实非持久化的，SET_USERID执行返回结果,可是本地存储获取的！！\r\n     USER_ID: SET_USERID(),\r\n     shopCartInfo: []\r\n};\r\nlet mutations = {\r\n     GETSHOPCART(state, payload) {\r\n          state.shopCartInfo = payload;\r\n     }\r\n};\r\nlet actions = {\r\n     //获取用户购物车的数据\r\n     async getShopCart({ commit, state, dispatch }) {\r\n          let result = await reqShopCart();\r\n          if (result.code == 200) {\r\n               commit('GETSHOPCART', result.data);\r\n          }\r\n     },\r\n     //删除某一个商品的数据\r\n     async deleteCartById({ commit, state, dispatch }, skuId) {\r\n          let result = await reqDeleteCart(skuId);\r\n          if (result.code == 200) {\r\n               return 'ok';\r\n          } else {\r\n               return Promise.reject();\r\n          }\r\n     },\r\n     //修改某一个商品勾选状态\r\n     async changeChecked({ commit, state, dispatch }, { skuId, isChecked }) {\r\n          let result = await reqUpdateChecked(skuId, isChecked);\r\n          if (result.code == 200) {\r\n               return 'ok';\r\n          } else {\r\n               return Promise.reject();\r\n          }\r\n\r\n     },\r\n     //修改全部商品的勾选的状态\r\n     allUpdateChecked({ commit, state, dispatch }, isChecked) {\r\n          let arr = [];\r\n          //获取购物车商品的个数,进行遍历\r\n          state.shopCartInfo[0].cartInfoList.forEach(item => {\r\n               //调用修改某一个商品的action【四次】\r\n               let ps = dispatch(\"changeChecked\", { skuId: item.skuId, isChecked });\r\n               arr.push(ps);\r\n          })\r\n          //Promise.all():参数需要的是一个数组【数组里面需要promise】\r\n          //Promise.all()执行一次,返回的是一个Promise对象,Promise对象状态：成功、失败取决于什么?\r\n          //成功、还是失败取决于数组里面的promise状态:四个都成功、返回成功Promise、只要有一个失败、返回Promise失败状态！！！\r\n          return Promise.all(arr);\r\n     },\r\n     //删除选中的商品\r\n     deleteAllCart({ commit, state, dispatch }) {\r\n          let arr = [];\r\n          //获取仓库里面购物车的数据\r\n          state.shopCartInfo[0].cartInfoList.forEach(item => {\r\n               //商品的勾选状态是勾选的,发请求一个一个删除\r\n               if (item.isChecked == 1) {\r\n                    let ps = dispatch('deleteCartById', item.skuId);\r\n                    arr.push(ps);\r\n               }\r\n          })\r\n          return Promise.all(arr);\r\n     }\r\n\r\n};\r\nlet getters = {\r\n\r\n     //计算数组里面第一个元素：对象\r\n     CartInfo(state) {\r\n          return state.shopCartInfo[0] || {};\r\n     },\r\n};\r\n\r\n//对外暴露\r\nexport default {\r\n     state,\r\n     mutations,\r\n     actions,\r\n     getters\r\n}"]}]}